@model SEDEP.Models.LoginViewModel
@{
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<div class="logo-container text-center">
    <img src="~/assets/img/logo.jpg" alt="Nuevo Logo">
</div>

<div class="login-container">
    <h2 class="text-center">SEDEP</h2>
    <p class="text-center">Sistema de Evaluación de Desempeño para Empleados Públicos</p>

    <!-- Mensaje de error general -->
    @if (ViewData.ModelState.ErrorCount > 0)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <p>@error.ErrorMessage</p>
            }
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>
    }

    <form asp-action="Login" asp-controller="Auth" method="post">
        <div class="mb-3 text-start">
            <label class="form-label">Ingrese su Cédula:</label>
            <input asp-for="Cedula" type="text" class="form-control" id="cedulaInput"
                   placeholder="Ingrese su cédula" required
                   pattern="\d{9}|[A-Z]{1,3}-\d{6,9}"
                   title="Debe ser un número de 9 dígitos (Nacional) o formato extranjero (ABC-123456)"
                   oninvalid="this.setCustomValidity('Debe ingresar una cédula válida: 9 dígitos para nacionales o ABC-123456 para extranjeros')"
                   oninput="this.setCustomValidity('')">
            <span asp-validation-for="Cedula" class="text-danger"></span>
        </div>

        <div class="mb-3 text-start">
            <label class="form-label">Ingrese su Contraseña:</label>
            <input asp-for="Password" type="password" class="form-control"
                   placeholder="Ingrese su contraseña" required
                   oninvalid="this.setCustomValidity('Por favor, ingrese su contraseña')"
                   oninput="this.setCustomValidity('')">
            <span asp-validation-for="Password" class="text-danger"></span>
        </div>


        <div class="text-center">
            <a asp-action="RecuperarPassword" asp-controller="Auth" class="text-decoration-none">¿Olvidó su Contraseña?</a>
        </div>

        <button type="submit" class="btn-login btn btn-primary w-100 mt-3">Entrar</button>
    </form>
</div>
